<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        ////----[User-Name]----------------////
        // lshulamits == true
        // tyraonk == false
        var getUserData = "tyraonk";
        console.log("getUserData =====> " + getUserData);


        ////----[url]----------------////        
        var txtUrl = "https://rmiapplictest/RmiTashtiotWS/api/GroupsApi/IsUserExistsInGroup?groupCode=1002&userName=";


        ////----[url+User-Name]----------------////
        const url = txtUrl + getUserData;
        console.log("url =====> " + url);

        //console.log (" in memory ? ==> " + sessionStorage.getItem('praklitut') );
        if (sessionStorage.getItem('praklitut') != null) {
            console.log("get data from sessionStorage ");
            console.log('praklitut === ' + sessionStorage.getItem('praklitut'));
        }
        else
        {
            console.log("create a new sessionStorage ");
            ////----[XMLHttpRequest]----------------////
            const Http = new XMLHttpRequest();
            Http.open("GET", url);
            Http.send();

            ////----[Start and get response]----------------////
            Http.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    console.log(Http.responseText);
                    sessionStorage.setItem('praklitut', Http.responseText);

                    console.log(" if> praklitut ==> " + sessionStorage.getItem('praklitut'));

                }
                else {
                    ////----[Error]----------------////
                    sessionStorage.setItem('praklitut', false);
                    console.log(" else> praklitut ==> " + sessionStorage.getItem('praklitut'));
                }
            }
        }

////----[End]----------------////    


////----[Test user names:]---[tyaronk]----[lshulamits]----////
    </script>
</body>

</html>
